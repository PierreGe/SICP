(define p1 (new-process (lambda (input) (+ 1 1) (set! input (transfer p2 (+ input 1))) (set! input (+ input 3)) input )))
(define p2 (new-process (lambda (input) (+ 1 1) (set! input (transfer p3 (+ input 1))) (set! input (+ input 11)) input )))
(define p3 (new-process (lambda (input) (+ 1 1) (set! input (transfer p1 (+ input 1))) (set! input (+ input 23)) input )))
(transfer p1 0)
(transfer p2 100)
(transfer p3 1000)
(transfer p3 1000)
(transfer p3 1000)
(transfer p3 1000)
(exit)